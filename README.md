# Grabby-Documatic

```
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•
â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• 
â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—  â•šâ–ˆâ–ˆâ•”â•  
â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘   
 â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•    â•šâ•â•   
                                                   
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•
â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     
â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•     â•šâ•â•â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â• â•šâ•â•â•â•â•â•
```

**Version 2.0** - ğŸš€ Your Go API Documentation Generator ğŸ“š

An intelligent, interactive documentation generation system for Go web APIs with advanced duplicate detection and conflict resolution.

## âœ¨ New Features (v2.0)

### ğŸ¯ **Interactive Menu System**
- Beautiful ASCII art interface
- Guided step-by-step process
- No command-line arguments needed
- User-friendly prompts and confirmations

### ğŸ” **Advanced Duplicate Detection**
- **Smart Conflict Resolution**: Multiple strategies for handling duplicate endpoints
- **Detailed Reporting**: Comprehensive duplicate analysis with resolution breakdowns  
- **Real-time Feedback**: Immediate alerts when conflicts are detected
- **File Tracking**: Know exactly which files contain which endpoints

### ğŸ›¡ï¸ **Enhanced Security & Validation**
- Input sanitization and validation
- XSS prevention in generated documentation
- Path normalization and security checks
- Robust error handling with graceful degradation

### âš¡ **Performance Optimizations**
- Compiled regex patterns for faster processing
- Improved memory usage
- Enhanced comment filtering
- Better file parsing with encoding detection

## ğŸš€ Core Features

- **ğŸ”§ Multi-Framework Support**: Gin, Echo, Gorilla Mux, net/http
- **ğŸ“¡ Live Server Inspection**: Real-time API data shape capture
- **ğŸ¨ Beautiful Documentation**: Visually enhanced markdown with emojis and styling
- **ğŸ”„ Recursive Scanning**: Automatic sub-directory discovery
- **ğŸ“Š Statistical Analysis**: Detailed metrics and summaries
- **ğŸ¯ Endpoint Validation**: Comprehensive endpoint verification

## ğŸš¦ Getting Started

### Prerequisites

- **Python 3.7+** (Required)
- **Go 1.19+** (Optional, for live server inspection)

### Quick Start

```bash
# Clone the repository
git clone https://github.com/Raccoon-King/grabby-documatic.git
cd grabby-documatic

# Run the interactive menu
python doc_generator.py
```

That's it! The interactive menu will guide you through the rest.

## ğŸ“– Usage

### Interactive Menu Options

When you run `python doc_generator.py`, you'll see:

```
ğŸ“‹ What would you like to do?
1. ğŸ“ Analyze Go project directory
2. ğŸ”¬ Analyze with live server inspection  
3. ğŸ“Š Generate duplicate endpoints report
4. âš™ï¸ Advanced settings
5. â“ Help & Info
6. ğŸšª Exit
```

### Quick Examples

#### Basic Analysis
1. Run `python doc_generator.py`
2. Select option `1` (Analyze Go project directory)
3. Enter your project path or press Enter for current directory
4. Confirm the analysis
5. View the generated `apidocs.md`

#### Live Server Inspection
1. Start your Go server (e.g., on port 8080)
2. Run `python doc_generator.py`
3. Select option `2` (Analyze with live server inspection)
4. Enter your project directory
5. Enter server port (8080)
6. Get enhanced documentation with real API responses!

#### Duplicate Analysis
1. Run `python doc_generator.py`  
2. Select option `3` (Generate duplicate endpoints report)
3. Check the generated `duplicates_report.md` for detailed conflict analysis

## ğŸ”§ Advanced Settings

Access advanced configuration through the settings menu (option 4):

### ğŸ”„ Recursive Scanning
- **Enabled (default)**: Scans all subdirectories
- **Disabled**: Only scans the specified directory

### ğŸ“ Duplicate Resolution Strategies
1. **Keep First** (default): Preserve the first endpoint found
2. **Replace with New**: Use endpoint with better description
3. **Merge Descriptions**: Combine information from both endpoints

### ğŸ¯ Custom Output Files
- Configure API documentation filename
- Set duplicate report filename
- Customize output locations

## ğŸ¨ Supported Frameworks

### âœ… Framework Compatibility

| Framework | Pattern Support | Status |
|-----------|-----------------|--------|
| **Gin** | `router.GET/POST("/path", handler)` | âœ… Full Support |
| **Echo** | `e.GET/POST("/path", handler)` | âœ… Full Support |
| **Gorilla Mux** | `r.HandleFunc("/path", handler)` | âœ… Full Support |
| **net/http** | `http.HandleFunc("/path", handler)` | âœ… Full Support |

### ğŸ” Smart Detection Features
- **Automatic Framework Recognition**: No configuration needed
- **Comment Filtering**: Ignores commented-out code
- **Group Route Support**: Handles nested routing patterns
- **Handler Documentation**: Extracts function comments
- **Parameter Detection**: Identifies path parameters (`:id`, `{id}`)

## ğŸ“Š Output Files

### ğŸš€ `apidocs.md` - Main Documentation
Comprehensive API documentation with:
- **Visual Headers**: Emoji-enhanced sections
- **Statistical Summaries**: Endpoint counts and method distribution
- **Interactive Examples**: Ready-to-use curl commands
- **Data Shapes**: Real or inferred request/response structures
- **Detailed Descriptions**: Extracted from code comments

### ğŸ“ˆ `duplicates_report.md` - Conflict Analysis
Detailed duplicate endpoint analysis:
- **Conflict Detection**: Lists all duplicate endpoints found
- **Resolution Details**: Shows how each conflict was resolved
- **File Tracking**: Identifies source files for each endpoint
- **Statistics**: Summary of duplicate patterns

### ğŸ“‹ Example Outputs

#### Main Documentation Structure
```markdown
# ğŸš€ API Documentation

**Status**: Ready 100.00% â€¢ ğŸ“… 2024-01-15 14:30:22

## ğŸ“Š API Overview
| Metric | Value |
|--------|-------|
| ğŸ”— Total Endpoints | 15 |
| ğŸ“ Route Groups | 4 |
| ğŸ”§ HTTP Methods | 5 |

ğŸ“Š Duplicate Analysis:
â€¢ Unique endpoints: 15
â€¢ Duplicates detected: 3
â€¢ Duplicates skipped: 3
âœ… No duplicate endpoints detected

ğŸŸ¢ GET: 8 | ğŸ”µ POST: 4 | ğŸŸ¡ PUT: 2 | ğŸ”´ DELETE: 1
```

#### Duplicate Report Structure
```markdown
# Duplicate Endpoints Report

Found 2 duplicate conflicts:

## Conflict 1: GET /api/users
**Existing:** `getUsersHandler` in `handlers.go`
- Description: Fetch all users from database

**New:** `listUsers` in `api.go`  
- Description: Returns user list with pagination

**Resolution:** Descriptions Merged
```

## ğŸ› ï¸ Development & Troubleshooting

### ğŸ› Common Issues

#### "No API endpoints found"
- Ensure Go files contain recognizable routing patterns
- Check that files aren't in excluded directories (`.git`, `node_modules`, `vendor`)
- Verify your project structure matches supported frameworks

#### Server inspection fails
- Confirm your Go server is running on the specified port
- Check that the server accepts HTTP requests
- Ensure no firewall is blocking connections

#### Duplicate detection too aggressive
- Adjust resolution strategy in Advanced Settings
- Check for legitimate endpoint variations
- Review generated duplicate report for details

### ğŸ“‹ File Structure
```
grabby-documatic/
â”œâ”€â”€ doc_generator.py          # Main application
â”œâ”€â”€ README.md                 # This documentation
â”œâ”€â”€ examples/                 # Example Go server
â”‚   â””â”€â”€ go-server/           # Demo application
â”œâ”€â”€ apidocs.md               # Generated documentation (output)
â””â”€â”€ duplicates_report.md     # Duplicate analysis (output)
```

### ğŸ”§ Extending Grabby-Documatic

#### Adding New Frameworks
1. Add regex patterns in `_extract_*_routes()` methods
2. Update framework detection logic
3. Test with sample code patterns

#### Custom Output Formats
1. Modify `generate_markdown_docs()` function
2. Add new template variables
3. Update documentation structure

## ğŸš¨ Security Notes

- **Input Validation**: All paths and inputs are validated and sanitized
- **XSS Prevention**: HTML tags are stripped from descriptions
- **Path Traversal**: Directory traversal attempts are blocked
- **Resource Limits**: Large files (>10MB) are automatically skipped

## ğŸ¤ Contributing

We welcome contributions! Areas of interest:
- **New Framework Support**: Add support for additional Go web frameworks
- **Output Formats**: JSON, YAML, or other documentation formats
- **UI Improvements**: Enhanced interactive experience
- **Performance**: Further optimization of parsing algorithms

## ğŸ“ˆ Changelog

### Version 2.0 (Latest)
- âœ¨ Interactive menu system with ASCII art
- ğŸ” Advanced duplicate detection and resolution
- ğŸ›¡ï¸ Enhanced security and validation  
- âš¡ Performance optimizations
- ğŸ“Š Comprehensive reporting system

### Version 1.0
- Basic Go code analysis
- Multi-framework support
- Live server inspection
- Markdown documentation generation

## ğŸ’¡ Tips & Best Practices

### ğŸ“ Writing Better API Comments
```go
// GetUsers retrieves all users with optional pagination
// Supports filtering by role and status parameters
func GetUsers(c *gin.Context) {
    // handler implementation
}
```

### ğŸ—ï¸ Organizing Your Go Project
- Group related endpoints in separate files
- Use consistent naming conventions
- Add meaningful comments to handlers
- Keep routing logic separate from business logic

### ğŸ” Effective Duplicate Management
- Use descriptive handler function names
- Avoid identical paths across different files
- Leverage the merge descriptions strategy for related endpoints
- Regular duplicate analysis during development

## License

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
